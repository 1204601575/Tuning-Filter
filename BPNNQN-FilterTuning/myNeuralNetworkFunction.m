function [Y,Xf,Af] = myNeuralNetworkFunction(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 22-Mar-2016 00:26:24.
% 
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timsteps
%   Each X{1,ts} = 2xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 20xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [-1893;0];
  x1_step1_gain = [7.45156482861401e-05;8.01346261719689e-05];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [-6.0321824497489613393;4.2270115782867581089;3.8326485184007208495;3.8768352081479080518;-6.3383909992153899537;5.4325134837598092474;2.8349147537692176435;-5.8748824821950114128;-2.94787595912789957;-1.8239403090187540357;4.7458885319842902817;-5.7938149073036724346;-8.5454778962285029564;-4.9889383023596973743;3.0716245501261609796;-2.6360186936225606935;2.8064351118092409898;-4.4246779907368187779;5.7623661135526544896;-3.9455716933546778336;3.3593430297738615664;1.0942960680815474461;0.79618235175924945146;-1.7807567298342144024;-0.11152705958393600849;2.7734737959774391491;-4.5637793872789531591;6.1976477553196618331;-3.560631905177051415;-1.5092535014220394007;0.86907095168735337687;-0.011998745878528095654;-4.6465168638260854195;-2.6650676128033952139;8.02837008689948739;1.4554796308269544181;2.514260244599932026;1.0799781496992710839;-1.7300990193829715036;0.2167318571341522726;-4.2008591660431529036;1.6992680839613221178;-0.22597366636521529215;-1.8035573542779597123;-0.48851987816755365612;3.5753801523633921278;-6.4979725561854211335;3.6890531592488691182;-2.1484295039270238092;-3.7173752783554561141];
  IW1_1 = [7.3386805955499427867 0.8741888612089669941;-0.87299296667991121979 21.438147098199131335;-0.42486337378606503501 -8.3239167117351353653;-0.33677343755744343357 11.849176325791015429;2.4711497641505104639 -15.63926206780119621;-6.8827866679292686314 -0.51680279868551326494;-5.4369302271580863817 8.1563437078813407766;6.0278886305380448007 -1.1922817773147609266;5.3185094323730757182 3.277433798086323069;4.2510843403681972674 -1.537195491647813661;0.53144575708434971251 -13.032561418542099929;2.1391100651006089706 -13.427132263456728722;0.15840189185226810631 9.8783646706985361874;6.0571126745948413728 -17.540694179049388879;-8.8404730172840899627 -0.93023429410622304747;-0.45766552779498353987 -6.6939230240828004881;-0.89142114364087499112 -5.8627033808831701123;7.531167575975355355 -17.805984184707803308;0.11795055558532781259 -7.096280886942930799;-0.75713952707933196429 -9.95519243544757515;-7.84634874128674209 5.625702167367561124;-1.945314319545066617 1.807161233947996104;-4.1040471385809391691 0.31419436151059609852;-0.75999302504810062331 -13.707790769762855376;4.9547091913982317379 -4.4302470950038994602;-5.5223619027823485084 -3.093436059161904339;6.4382785496108390078 -16.998368640470676638;2.3835528837497967913 12.020443138075322054;6.4467820079774664777 2.2351874664649047375;1.8045705553295481316 -2.3803492791049496446;-0.12444411169315652832 11.336902424223213259;4.9503715925707254542 -1.4599381701234137587;8.9569057125462130386 -19.77742352742253118;5.8654286763803380467 -8.310966520739317076;-0.93319864810087471696 17.425092081180075354;2.1219117212352642809 6.921236956137738261;8.3111027532373267235 5.0430754292093045166;-4.161972467732094394 -14.157818884287779682;-2.6319376821169391256 -5.888654115938646072;5.3416560939880168846 -1.850893460760357101;-0.60474767905544413171 -7.9265086245996627667;2.5450265667868787745 6.5936888920454794771;-4.8957692794218674592 -4.8915250101483804812;6.720491394528877116 -3.7704787581471785884;-1.0532911457591298543 6.2638792144872281753;4.0354677552955102726 1.0537968107497639458;1.8368357244554862628 -13.909265084206642982;0.40344878455796340244 -5.0277669246921838919;-2.3856606745649595602 -1.6985126593920962801;-6.339104003842186863 -6.1794205099556798189];
  
  % Layer 2
  b2 = [-0.90945099020399555734;0.18796645824101468336;-0.1274680600631234173;-0.13777567791586362023;-0.48825016729628845091;0.60215679569573621333;0.36664864711253791763;-0.04080714691447619169;0.2464150273805088831;0.0061313373551840043285;0.45354942222271876773;-0.25144729062255755103;0.083869609342627188253;-0.54750265721876567593;0.11106244777879149821;-0.2576921039903848909;0.22665311993261214041;-0.31068594049587655581;-0.17279055498872050722;-0.10437832421874697342];
  LW2_1 = [-0.57062823438758480954 -0.36175908863318706477 -0.060800913317889594689 -0.55057865331533806241 -0.75509002081167675424 -0.661463204225759549 0.76135101683316908083 -0.30078889378650791597 0.49057232523867644325 -0.1144130456686213021 1.2718066528126672488 1.1119522604108404984 -0.05509306729352515114 0.55151942666602837839 0.032420296293975310598 -3.6682203733653002686 -0.039742251332344921688 2.7308654355691568405 -0.11651251090189775061 1.8764947255459989428 0.057171038014687314277 -0.51302832935936026892 0.038136531544583324171 -1.5714158431791291903 0.0010721115422479361636 0.47287874601166668409 -1.9842747591042464439 0.1224476105857946473 -0.0062699245672525761447 -0.31446918642704313474 -2.6912172100945577213 0.081572704230221976252 -1.206316470504338767 0.73653782299026404612 -0.41876031670094560067 -0.56878840771500460693 -0.006970323194052435202 -1.1951979444218483462 0.26108479141520052336 -0.0051362117869429967792 0.79332632057050067598 0.52588100505577461963 0.0013854012050204783223 -0.031590330357561841046 1.0935686424163688635 -0.031636429082704239923 -0.83798357018784197514 0.15568738602363116352 0.069297902811765760278 -0.009600975629039139661;0.42821119391496270667 -0.077992812633628325059 0.029201855653323283146 -0.34016585910349966815 -0.8172625340230514901 0.47680286600376131645 0.57205257639261763991 0.17656038654824957046 -0.20897836966812091686 0.20371743895061547591 0.33227309809085714409 1.4838791618770814651 0.054346261170648245409 1.5328129417380103039 0.0020850120028062212041 -0.25608697803502511459 -0.054524516895227491398 1.0353285431476659806 0.058093824075083060066 0.16157009934326674316 -0.10989871266948483819 1.689971816676038463 0.1410301108475658094 0.12816814338335971724 0.10520974218648977694 -0.2399604868818701886 -2.4246931748403381945 0.19252601897433296863 0.052482402521025192654 1.1063402526682066807 -0.0088520053884961671237 -0.16625292261296092944 -0.067172113602644134556 0.45301086588151118217 -0.36053693403230052672 0.19673338204816803731 -0.066685098194898706492 -0.36826950291561960649 0.34296853271641103422 0.20392346795418955785 0.28390499402825686293 0.20044883110977373963 -0.064541290640201295914 -0.0681676019768009539 0.051533150648829725848 0.10781913474212398429 -1.1226545117292765497 -0.015756176496156789474 0.13213315812153539341 -0.054483168496375543322;-0.38783269194420261217 0.073959004883318926749 0.10238881452104901804 0.097337690934543613652 -0.73640143000852020805 -0.33531462752586776999 1.5664799104445024103 -0.06347318583269129233 0.4116525292235266309 0.19924491238435695917 -0.59103610759740132785 1.0339346048814479495 0.024302980894840283538 1.0386307129487628576 0.045700913555241681752 1.6576396253782230694 -0.15684115975523399422 2.2226742998837503151 -0.0037519066083692709235 -0.89060588278107255533 0.14675130990048063095 -0.074898508928171320109 0.49303819843185442418 0.91284825761593635374 -0.15881197292013632394 0.36630070402610598324 -2.203022481929811871 0.064407048410881503897 0.12055640380386865862 0.096227084364889595158 1.442343275377097056 0.25601137668622020449 -0.97174546684908025274 1.6360677435136943281 0.15463533867528164722 0.26224156096508033365 0.025059781635705550423 0.51330881148778206846 -0.221522964628393354 0.073293163139461298128 -0.29354920423723657175 -0.45853783862123237425 0.069269751969844944872 0.028200115201268746018 -0.54967507517217428781 -0.083026672022010805652 -0.34288954271832106091 0.047477093969810611751 -0.18353851968446543985 -0.038039634994177444482;-2.0360297793251369569 0.068546203204779693197 -0.011393033891978786298 0.098266973651683062196 0.76215696810972577424 -2.2469906750114998495 -1.4255589680148805787 -0.52744768244700745985 0.19392351349710867936 -0.13104357129018348593 -1.067456689813255144 -1.2660916272625879486 0.024984952336056222288 -1.2244716067095566814 -0.11071246917017625588 0.97872670147127827089 0.14891482822015450482 -3.3582957605964605108 0.096505770721560760195 -0.59567242505694972809 -0.090703865278604384192 -0.16600087172994276719 -0.30367801084037987502 0.44164810556350286852 0.0033977220434308506511 0.20075051068392543718 3.1564055680182701025 -0.099911650742183097385 -0.26123829337947829243 -0.22112160147082668415 0.71727629034114648299 0.11565452118870549192 1.3756958312079581308 -1.3730131829633553942 0.14768852347085786869 -0.087265629708768208128 0.020910248538739489854 1.0284302536336775713 -0.18403950115361139561 -0.22841576807030408713 -0.22112511009274191109 0.044237181874787645519 -0.021139242619853962357 -0.07046311506603306074 -0.26880001800333547246 0.055032247953656507344 0.81403775574650993896 -0.16469326002033021772 0.0704150282371627384 0.033303799862612379346;-0.18894265256227366079 0.15141076262170741207 -0.58547629385566934967 0.24019968092156943062 -0.24204253762989358378 -0.26637910562056610342 0.57154117760236688994 0.014732698104277653153 0.35716985854094063235 0.081164944423064058765 0.42802554314725915763 0.49289588933554778771 -0.075266404257764485397 0.92530083931545925591 -0.014664752038698403505 2.0430172850473820034 0.73566655868810149066 0.3272711669857177319 0.29967645547154087016 -0.91361808053021520415 -0.066345269601634893064 1.2336357956133303659 0.031748145100252651851 0.42284335625738811437 0.039116207208850145571 0.35486928046947335824 -1.3456236244372530297 0.064374043549626835947 -0.051552490259300129405 0.98162354966761178332 0.6512160052518012332 -0.17448785576084557825 0.079184417875486814986 0.49966428329974293954 0.10488684177832173494 0.30814803630012371771 -0.011940186034003309051 -0.57886445760579585684 0.049171510144878596837 0.21815572954767856184 -0.30692777028036699605 -0.10801914944347335013 -0.10121165599696758941 -0.038157600101951835714 0.15202743376012753385 -0.032949786980004204529 -0.2592881517776888245 0.11048315574685756146 -0.20542162421429557839 -0.035942532694704890095;1.5602951186518760895 -0.23796797961079552142 -0.064321422381186765804 -0.36663867326412552528 -0.039022708658893089095 1.7124819118183858269 -0.71916651211737980809 0.28402897837402107939 -0.93937583025831550287 -0.023361702478072798178 -1.1096281455699590346 -0.22564960734436254053 0.002041372609499468322 -2.0801485235262835438 0.071096765334883585408 -1.5672834020561963175 -0.074524490536055990053 -2.9525374791310863287 -0.015728547176322559692 0.39724987257701421806 0.22259701909655682517 -0.78791904739275386849 0.17277049654912457477 -0.16627416355822061123 -0.14285303638574933793 -0.87949884984236614827 4.2417883145181445315 -0.15356551296246734317 0.20225486044207205416 -0.56827534007532609639 -0.47280710826986066531 0.64055548476349777332 0.85295016156599012813 -0.58218576294141333172 -0.14826440554344866296 0.22123394869999732371 0.097776941185011512214 0.90612096546280629372 -0.44539578792873801838 -0.57161785649581808855 0.12398847061980648732 -0.5523171387802155996 0.17033412714639450947 0.15212907089176638809 0.13458555049890222333 0.080478504748683774017 0.2567064787134710202 0.13671026178925552164 0.23044768300257301163 0.081479507950088805868;-0.64665958431726211497 -0.043726219779978960089 -0.003755339520412458252 0.14337957529603531648 -0.006039119735731131311 -0.87072468660729551715 -0.94784755935896658485 0.0050479065570915452113 1.1540632140648998671 -0.4597384790376737862 1.1351758528195206033 0.012343712181855624049 -0.052132718042423198401 -2.4262361094066480227 0.011168141916952303502 0.39198309030493039273 -0.301565182235716156 -0.26806808841323187531 -0.15154819800410829211 -0.36666256634198879372 0.28443571709618653554 -1.2059939173533118506 -0.21461850304570057046 -0.57029443036662452737 -0.12726465137124878813 1.1766189258710586518 3.1640129089001804985 -0.20849388875407298682 -0.073997716996374543474 -0.56964634521982271398 -1.1073713499446826702 0.8046995368996325837 -0.44500033895869389733 -0.92511159038181745018 -0.30835674321878397963 0.74673941969870805124 0.15404975470448947772 -1.1281680168631385008 -1.8775928389849576572 -0.87234710511434376823 0.024472757850613004876 -2.5191607762570393803 0.29936723230401468543 0.090218324302947738857 0.55694430615215673175 0.045273330327197089384 -0.3827302048965585124 0.20637314769706011086 0.0038693114574322989146 0.10955753924668211463;-0.16625512438438391771 0.12675585290386087722 0.12567484870940312525 0.37089273019197338543 0.66534643247779368114 -0.5133873230426178047 -0.15430121652006048572 -0.20488547605861517908 -0.19026383981376715493 -1.1007831615201881803 -0.68147925244119222921 -0.94564496008478637901 -0.081041461984039012134 -1.0858570126330016059 0.00013995329545337374146 1.7852479566938344036 -0.18255061031555461226 -2.0369549149483177075 -0.20132271755369712807 -0.9260716614334846275 0.22665329731997693741 -1.309699636626187047 -0.85692530566169489159 1.8262195858787080294 0.17839745598511291824 -0.06037977995303605433 2.0398612182971920248 -0.18054327825400043328 -0.12505116647757086312 -0.39287866101612117786 3.1581120155896771351 0.02260424068509933257 0.93904716692822998159 -0.36751561551983191745 0.021343178878963017797 0.21838775280188132966 0.12957047542548649766 0.68685746245519940789 -0.69553488207593194836 -0.5001832420338576668 -0.50785664824715981425 -0.42572416130883028451 0.20346828267570296611 0.21392688460440031917 -1.5478687231329013585 -0.14785155926818616123 0.42911799615177853573 0.093778971113464448806 -0.16979205965736218764 0.22710924324974152144;0.39594113609020054056 -0.096679050954413328633 1.4942367116780128633 0.095907143926886637142 0.4181087262009888228 0.38958321414013480366 0.52162956639749613608 0.034976122648481010324 0.14554033534709348574 -0.037909648089814645955 -1.6569910685301862951 -0.48471675309053602332 -0.90307802316974195023 -0.22013514181670995606 0.017018521924479269175 -1.6514237016934496527 -1.5522898532745588174 -1.0459533196835939517 0.25279465475181900347 1.266304083191603258 -0.25607476735988082828 1.1343807331228932256 -0.42792000549694891864 -0.081057987715940083007 0.13244091431909196799 0.068973936795814927425 0.64307704141166111 0.06887650826337358978 -0.056179497782274968876 0.68661042119888726631 -0.25592989635586416153 -1.0443369663389521218 0.57146492613474764166 0.48097624246053122254 0.28350821573170958967 -0.047721075589475268897 -0.090332714996655974482 1.8662421581403187965 0.58710007866313063118 0.77649860033159545658 0.30915024209801267308 0.50951443785321692825 -0.080208145072338643544 0.048724330082381007989 -0.12995763294801104815 -0.14517012333356740794 0.37806843742292733923 -1.5917062997787112533 -0.22253243936461239438 0.0014384339818623672648;-0.13967466576386702859 0.1607002870088179991 0.59075396945701164064 -0.21731691542159639607 -0.85456517488076455535 -0.097195136905592449672 -0.83053912872955770741 -0.067237918160776080634 -0.40278364587013459897 0.35005390618765952482 2.5754619303638803807 0.94856834661975708567 -0.35638284128215641511 0.73774023959083812052 -0.041063238288623078731 2.2403222854348352477 -0.57486944573833953509 1.1002490779545204269 -0.10014090614158133175 -1.8419704362499846884 0.34693389906640464959 -1.7518324878840603187 0.87929157000286406465 -0.13082483806870429111 -0.21714955606832267443 -0.46998426800024373229 -1.1026473777908332163 -0.08806252050877308446 0.1120474219488896972 -1.2454511680067772428 0.24083123255972146981 1.6191062559465678738 -0.62198536123040859547 -0.71725950391616133395 -0.34616306214806930042 0.096977006973489848773 0.076252390030392455667 -2.2482120151818194564 -0.58624602736785180745 -1.0592609568262874031 -0.4413961538618386693 -0.65178910767516118341 0.11814903086690053957 -0.1376369841851587672 0.096901095800141667791 0.25439772795291037966 -0.50446263294637394559 -0.43898044188232832052 0.45247338933228792301 -0.055714642400974311032;-0.68498017854570725227 -0.08036262297000119903 0.2362514080015400697 0.021292410265969289457 -0.92032331519341115111 -0.69624035170009335172 0.78116380403436935786 0.071879040655894343992 0.76976691723867929351 0.26511400963738834813 -0.80087527734954733205 1.2639810642792075335 -0.14116815753196881866 -0.86888785915367394708 -0.047394604981008899014 -0.36523689934299757853 -0.061890503399638065185 -6.5855681797342828787 -0.61806200370498942664 0.22761019626964459905 0.043046604088176357306 -0.23707671360007626093 0.4408851954870782186 0.0444524878602509943 -0.068774294486738676846 0.68779829436637829332 4.7655579011162183534 0.094412542780819327937 -0.022609587197477416798 -0.16671852202114262331 0.21774387745144382911 0.43171517459759106705 2.8137113428716724606 0.84251990635212914427 0.30446591907031195223 1.6956266891557889576 -0.014902676294947651489 0.96214649373726457426 -0.72922685491002448011 -0.18036602285039046722 0.24069697779895168899 -2.176072728813339463 -0.00075330813137088655906 -0.1460359764390406212 -0.0054146653638402755457 -0.04361415073940586723 -0.19918566583851821106 0.53436684463335082373 0.11098796944964543776 -0.080516337767822632188;0.68712968902809890004 -0.0090200165482426288704 0.5057606404545933465 0.043983244044194708122 0.15745333978659672991 0.77419780790322789699 -0.17921667486640333045 0.088083511833305344618 -0.077166911237291177517 -0.010465088334945329279 -0.30890688831453377849 -0.20757161578916427658 -1.3734952754445097778 -0.036295276391701838947 0.02444079010116807435 1.0255477732023292603 0.20390050486924093942 0.96595696087039240041 -3.3611026436553919083 -0.53943057480880485244 -0.042316847149906043624 -0.29060126151538406836 -0.018174805381248035352 -0.55435491193749886207 0.016986122742699834992 -0.10306078527836903813 -0.46674539411147181189 -0.0210922731001270021 0.11088174461380026492 -0.20084545422031938045 -1.2967218247198859515 -0.22816428727297596857 -0.48590942956063221114 -0.19490706833698037692 -0.023397823399209660006 5.5622923410075851645e-05 -0.020985883457186185058 -0.11041771013663928547 0.066511281520084356012 0.072431468467354667706 -0.21453311403383706901 0.23931268188507023864 0.074686932534726274691 0.022824529327956772501 1.2845841859697786358 0.00021759180800293273419 0.013169275735084817053 2.0983971313809255399 -0.093081718280953767986 -0.010542074742920655786;0.17033872852373466156 0.088054780989105491118 -1.4415904973676023637 0.16250534809161731875 1.1574395837864179803 0.33432521578311563681 0.74096089301261369719 0.12486639671428280407 0.56623887959389740399 0.18842711547487586699 -1.3792080719990049698 -1.4490241374410497421 -0.86054204487278362912 -0.013959727066923470137 0.157789717532569429 -0.32073660460824554574 1.4099781325806621801 3.7896337243409905504 -2.1851717324860229219 0.50520319036006056113 -0.044571818072181024206 0.39499701261567377042 -0.059826422324831374233 1.4753137490179040192 -0.083563582140780065521 0.54644753712106997057 -2.3801253159757282951 0.29761936094357749338 0.028475573377940783387 0.093078697977236043992 2.4035536929650525018 -0.30444410585151471249 -1.6727287203774261481 0.78449843887711123713 0.33288229178452100054 -0.3215236705491121838 -0.12062942768655671166 1.2316053252223528869 1.2603580429300949017 0.37333990346740708599 0.32742181943002152122 1.5836896810615925801 -0.28035232767728512915 0.043276962947616300081 -1.4843445589912589444 0.014508543731048921532 0.84070309939338028205 1.3323820972274720287 0.14958209378991527139 -0.17372230813528674598;-1.4106307465107603694 -0.062065153899654071368 2.4881476668427269239 0.53930058555161575207 0.5058029059574330466 -1.4719537863745861817 0.81832855009164240379 0.030419285547209653359 1.100838965734315833 0.18043743134770115488 -0.96882036955110606424 -0.21053307746563870717 0.62327893934021749711 -2.0238085740963138726 0.12106240493759730381 0.61708080596215719726 -1.7921939426299722253 0.24934524256685713928 2.1427482214328801291 0.51293548103983288566 -0.13422594307070390141 0.67205437755164487701 -0.12584015795768946355 -0.70674795659248890178 -0.049844430508817351433 1.1563498579957551815 2.0950398156463578836 0.48457254626944212816 -0.0049411475620475108633 0.061678100230332086329 -1.5810471809818487099 -0.2632459668018006238 -0.49395241872948852935 0.84815330945146272246 0.33684641449751240305 -1.0125340225663395088 -0.22013142972007015974 0.97337462949470088258 -0.22295583732265530919 0.38309193155440118828 0.50770320785154421372 0.81612249419062243838 -0.14023654926214046412 -0.041457638004789118535 1.6273484192945373294 0.085271572207154880396 -0.083727743040996616131 -1.5452478725310656582 0.10049100638600186319 -0.17294872497310914694;-0.96822911651735021898 -0.10911150644638394069 -2.5842484270705714522 0.031726446197292965112 -0.78589763026729120288 -1.0541071184778958436 -0.1504063915945892671 -0.075319950886298850379 0.17682241857568414822 -0.10530119197986902158 -0.032142798029311775432 1.1057674371160950422 -1.8830740548843611926 -0.72548765724511288244 -0.063097157754185659306 -1.6865397053762523072 2.2769986828890877995 -3.3384778829298524805 -4.295397426373640748 1.0447107942169524541 0.0038152362546931364341 -0.17621303667482546285 0.090583383983855569888 -1.2628271864488525011 0.00026380964900089512058 0.14797560360795827816 2.8206430452630417705 -0.013730768906073081981 -0.059713509618689701586 -0.079470578816573114733 -1.508649251177773154 0.22831343417235921978 1.4130863638884363365 -0.12547437821805476621 -0.10269103121382434918 -1.0339572757061921138 0.084922044412174685357 -0.25380312137813387796 -0.78300918046556200469 -0.2025448337421514311 0.36451905146702590077 -0.36201525793898575722 -0.046784347769198347811 -0.069890029728266842013 0.17211750074354223439 -0.046539593275369502134 -0.61536774709970343267 2.5323534176355719794 -0.062138073219345231479 0.10909309875905467968;-1.7262113374074627981 0.10214117795835145341 0.34630260806374940641 0.090583437727880383727 -0.1566473277350474147 -1.9121610127938617474 -0.25933011775409980926 -0.1252390457211857433 1.4155487127908774614 -0.054388004980306957348 0.70391707273940806733 0.45979963734377560236 -0.84523589379885089024 2.1906159151031685539 -0.0088004648281914850394 0.95275635893657573128 0.11062919773172585902 5.4082460827071603404 -1.1024588904626568819 -0.57502955992813231667 -0.000720171085720798217 0.14975460065657947295 -0.090171897044975093949 2.6660953824767497089 -0.070238953540349272076 1.3777064723194478724 -5.5393265982984960516 -0.11692882423825293192 -0.14668302212468689594 0.11387215925264401739 3.558749772510378051 -0.020213320722241762822 -2.0430329601568142373 -0.21826018786471809707 -0.088281045731694832157 2.6772435258677984571 -0.02636617537197590358 -0.95347738867418496689 -1.2971881011885508794 0.078307547974698632487 -0.28520211368791426043 -3.0566624511747693127 -0.061522024943007382058 -0.032909959634104674064 -1.6250371039610773671 0.072921299186210680743 -0.38305898970475782406 0.30048280025452284159 0.083173222409725994231 0.018185983658453322431;-0.54847303426197180354 0.080568220027406850514 0.25967205727134895499 0.34109735245867578435 -0.030112168248384561103 -0.46450885186164780905 -0.43647729816948171999 0.19235106077461955332 0.19865318112478386192 -0.034716360310233958242 1.2661968592779979659 0.31015585916375731923 3.1640460600122115586 0.46962514801200183623 0.032881092737853258312 1.1980153826727146793 -1.0355347044446643334 2.5726118804654718453 4.356911009284321068 -0.38424127866601281989 -0.015112351677088244409 -0.29368042646378228477 -0.068129984099293675048 1.3511553464339662867 -0.029779463839007928178 0.35104528169060317255 -1.9913702206444143794 -0.014082066373882772686 0.059163629347746007903 -0.28242891002968051328 1.5756934669499329527 -0.17829076567891274929 -1.061733995663725949 -0.39229578961486955002 0.021663841053397695641 1.5274519505506136685 -0.082447579768299916747 -0.30918768931395979038 -1.246805072334363107 0.11830428472726954581 -0.22408844541104200321 -2.140459975771494161 0.0037945976924428541713 0.015388516671759821033 -0.35182797859817505071 0.028654157215569939915 -0.32947873655996040565 -1.6285608673252112144 0.011299703184152196447 0.012074243914215878476;-1.7684894618539384048 -0.16170990966988441073 -0.61843122268391503837 -0.66468801806495625417 0.62353798265131188394 -1.8049278603755232187 0.3476553572164223227 -0.29968216830970084708 1.1290889933164134362 0.48659737763332944205 0.41410823321304923716 -1.0870271474845489834 -0.12958997155729640172 -1.2392393918684869725 -0.030955720985631245828 -1.2263392984879841752 0.24943079608325066654 -2.7699610427665133372 -0.45900015847953967718 -0.092493527230403216333 -0.065621305208892199978 0.10800539584742135935 0.45664366288152269391 -0.48896693240556915461 -0.14579373708177184588 1.0750378134419236176 2.7286630506775528815 -0.19473916511273534069 -0.058075891590779443741 0.051259920768318437134 -0.82485215256456290156 0.38680626670001688749 1.1977066342819107092 0.41830290823045157556 -0.3511854437387288419 0.11549194881553082048 -0.035734696488711685525 -0.10619216887521623627 0.45501258994280180392 -0.040379625862676855885 -0.081060082283227335997 0.17195403662048722171 -0.009655179285332859615 -0.24871345086548285463 0.42520678516909293787 0.1440588820824096894 0.41420287242954162421 0.42008307767245306463 0.28138486459790623684 -0.12827637300758407135;-1.8747796598761314879 -0.049982420737875794814 2.2757904343535519942 -0.72958085576807130135 1.2854438357730715303 -2.1965371658737460336 0.43757682998508301564 -0.50892718379706181064 0.15525659833036109525 -0.46717815233047998991 -0.82581158539994958812 -2.403285639849087385 0.72425097410321814806 -0.42339420144135486712 -0.081977639391094300758 -1.1726193216063105496 -1.4428117901572747872 0.27927575457609182807 1.674806123925415724 -0.19323668142270031267 0.049630085966108801465 0.06389850584558776081 -0.34010975510035995617 0.17921849508806311779 0.040626091580179483909 0.20797113070327649664 0.35713035424624445247 -0.36793073775410911619 -0.10839590701930609806 0.42041754673789988317 0.21583642953448792245 -0.12447353429522271806 -0.31807443540916913172 0.39743675598983041475 0.34157494389224590803 1.0722658033874645778 0.089403392843599382989 -0.48787120216994600552 -0.44527138368497443111 -0.09196050019204177195 -0.32484936855748242079 -1.3593194760472535609 0.20386927480171074256 0.083688478464094620546 -0.7140712240445489245 -0.19975401410286985904 1.8735465572707266091 -1.1159329087240101863 -0.1364134286242854599 0.15301031650201873946;-1.0112860960204503868 -0.0078265323578205515942 -2.7908285353010975349 -0.28288899067780964858 0.69949280867678154117 -1.2195291970172090767 0.13277617040811748317 -0.27660567107248695828 0.58717698927000860909 -0.31784206766458067417 1.1014066985236112828 -1.1127517598270164623 -0.88557037376941882822 -0.051014735275710695883 0.013935030946071558927 0.68481216766335750723 1.4566349348983957945 1.9426698959785675402 -2.2851803886351977901 -0.72147271343908925267 -0.01178086264179505939 0.10054532322621446971 -0.23338417126153054859 0.019991149538264092744 -0.023856914557933161375 0.59951109705990268672 -0.94371765098338955546 -0.14141778297554630228 -0.01991360941206374649 0.29544196023274987839 -0.39281148306106594692 -0.21259159358677467977 -1.0254103959261422485 0.12195949050162820104 0.18476974924369068964 1.2716729230955019503 0.032642640822007171209 0.48348192642207232783 -0.5624531697521141238 0.027320180428273110884 -0.31096078838325558191 -1.4254428435086270444 0.017500373227003894472 0.036229398667235436504 0.67893204551668451252 -0.087010302553848256624 0.76397215966694076439 1.7512684899112007653 -0.16392375119686580787 0.051340406671025802521];
  
  % Output 1
  y1_step1_ymin = -1;
  y1_step1_gain = [0.00728591399194314;0.0164956937065965;0.0195723974712777;0.0245608556862427;0.0495745925774006;0.0282244791492749;0.0406369597518901;0.0362739766583472;0.0718694361277782;0.0513365366791573;0.0583109695963023;0.0580877531343409;0.0655764520422263;0.0914296691795331;0.0775595758239206;0.072650048078667;0.136550130093217;0.0838277501805023;0.0954484615597178;0.0787736963328294];
  y1_step1_xoffset = [2.97590455338643;-67.0524401134854;-48.7285290575931;-46.7832704904918;-11.5269709186298;-46.4693831408479;-30.1539206940195;-26.4524859642595;-14.7783593728038;-16.8460225804773;-20.4385791005553;-10.6425828506478;-15.2677799100782;-7.10272205233243;-15.3267724742202;-12.5215209581779;-5.03328675459074;-10.4407830426735;-9.88230294354902;-14.4309233890807];
  
  % ===== SIMULATION ========
  
  % Format Input Arguments
  isCellX = iscell(X);
  if ~isCellX, X = {X}; end;
  
  % Dimensions
  TS = size(X,2); % timesteps
  if ~isempty(X)
    Q = size(X{1},2); % samples/series
  else
    Q = 0;
  end
  
  % Allocate Outputs
  Y = cell(1,TS);
  
  % Time loop
  for ts=1:TS
  
    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
  end
  
  % Final Delay States
  Xf = cell(1,0);
  Af = cell(2,0);
  
  % Format Output Arguments
  if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
  x = bsxfun(@minus,y,settings_ymin);
  x = bsxfun(@rdivide,x,settings_gain);
  x = bsxfun(@plus,x,settings_xoffset);
end
